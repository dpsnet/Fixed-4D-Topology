# K-H-I-J 联合实验设计
## Joint Experiments for Cross-Direction Integration

---

## 1. 联合实验愿景

设计验证K方向与H(量子)、I(网络)、J(随机)方向对应关系的综合实验。

---

## 2. 实验K-H: 量子-经典神经网络比较

### 目标
验证QNN与经典NN在有效维度上的差异。

### 设置
- **任务**: 二元分类（合成数据）
- **经典NN**: 2层MLP，参数数量D
- **QNN**: 变分量子电路，n量子比特

### 假设
$$d_{\text{eff}}^{QNN} < d_{\text{eff}}^{NN} \text{ (相同表达能力)}$$

### 度量
| 指标 | 经典 | 量子 | 比较 |
|------|------|------|------|
| 有效维度 | 测量 | 测量 | $d_{\text{eff}}^{QNN}/d_{\text{eff}}^{NN}$ |
| 样本复杂度 | 记录 | 记录 | 达到相同精度所需样本 |
| 训练时间 | 记录 | 记录 | 收敛速度 |

### 预期结果
QNN以更少的有效维度达到相当性能（量子优势）。

---

## 3. 实验K-I: 网络架构优化

### 目标
利用I方向的网络几何指导K方向的架构设计。

### 设置
- **任务**: 图像分类
- **架构变体**:
  - 全连接 (高$d_s$)
  - 模块化 (中$d_s$)
  - 稀疏连接 (低$d_s$)

### 假设
$$\text{泛化误差} \propto |d_s^{\text{arch}} - d_{\text{data}}|$$

### 流程
1. 测量不同架构的谱维度$d_s$
2. 训练并测量$d_{\text{eff}}$
3. 比较泛化性能

### 验证K-I对应
$$d_{\text{eff}}^{NN} \stackrel{?}{=} d_s(G_{\text{func}})$$

---

## 4. 实验K-J: 渗流引导的初始化

### 目标
验证渗流理论对神经网络初始化的指导。

### 设置
- **深度变化**: L = [2, 4, 8, 16, 32]
- **宽度固定**: N = 128
- **初始化**: 变化$\sigma_w$使有效连接比例p变化

### 假设
- 最优初始化对应$p \approx p_c$（渗流阈值）
- 训练速度在$p_c$附近最快
- 最终性能在$p_c$附近最好

### 度量
- 训练损失下降速度
- 最终测试精度
- 有效维度演化

### 标度验证
$$d_{\text{eff}}^{\text{init}} \sim L^{\alpha}$$

验证$\alpha \approx 0.84$（3D渗流分形维度）。

---

## 5. 实验K-H-I-J: 统一框架验证

### 综合实验设计

**任务**: 多模态学习（图像+文本）

**系统组成**:
- 经典CNN (K)
- 量子编码器 (H)
- 图神经网络 (I)
- 随机特征层 (J)

### 度量矩阵

| 组件 | $d_{\text{eff}}$ | 复杂度 | 贡献度 |
|------|------------------|--------|--------|
| CNN | 测量 | 高 | 特征提取 |
| Quantum | 测量 | 低 | 编码优化 |
| GNN | 测量 | 中 | 关系建模 |
| Random | 测量 | 低 | 基函数 |

### 统一验证
验证总有效维度的可加性:
$$d_{\text{eff}}^{\text{total}} = d_{\text{eff}}^{CNN} + d_{\text{eff}}^{Q} + d_{\text{eff}}^{GNN} + d_{\text{eff}}^{Rand}$$

---

## 6. 跨方向工具开发

### 统一分析管道

```python
class CrossDirectionAnalyzer:
    def analyze_k(self, nn_model) -> dict:
        # K方向分析
        pass
    
    def analyze_h(self, qnn_model) -> dict:
        # H方向分析
        pass
    
    def analyze_i(self, graph) -> dict:
        # I方向分析
        pass
    
    def analyze_j(self, percolation_config) -> dict:
        # J方向分析
        pass
    
    def compare_dimensions(self) -> dict:
        # 比较所有方向的维度
        pass
```

### 共享数据集

**K-H共享**:
- 量子-经典分类任务数据
- 相同数据分布

**K-I共享**:
- 网络结构数据集
- 不同拓扑的图数据

**K-J共享**:
- 渗流配置
- 随机初始化的权重矩阵

---

## 7. 实验时间线

| 周 | 实验 | 方向 | 里程碑 |
|----|------|------|--------|
| 1 | K-H基础 | K+H | 完成QNN和NN实现 |
| 2 | K-H比较 | K+H | 维度测量完成 |
| 3 | K-I架构 | K+I | 3种架构测试完成 |
| 4 | K-I验证 | K+I | 对应关系验证 |
| 5 | K-J初始化 | K+J | 渗流扫描完成 |
| 6 | K-J标度 | K+J | 标度律验证 |
| 7 | 综合实验 | K+H+I+J | 多模态系统 |
| 8 | 分析整合 | 全部 | 联合报告 |

---

## 8. 成功标准

### 单个实验
- K-H: QNN维度显著低于NN（相同任务）
- K-I: 最优架构的$d_s$匹配数据复杂度
- K-J: 最优初始化在$p_c$附近

### 统一验证
- 维度对应关系: $R^2 > 0.8$
- 标度律验证: 误差 < 10%
- 综合系统: 各组件协同工作

---

## 9. 下一步行动

### 立即开始 (今天)
- [ ] 设置K-H比较实验环境
- [ ] 准备QNN模拟器/真实量子硬件
- [ ] 定义具体的数据集和任务

### 本周
- [ ] 完成K-H首次测量
- [ ] 设计K-I架构变体
- [ ] 准备K-J渗流扫描代码

---

**实验设计**: Kimi 2.5 Agent  
**待人类确认**: 实验资源、优先级调整
